{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}
ECSA
{% endblock %}


{% block content %}
<div class="container">
      <div class="input-group mb-3">

                {% with messages = get_flashed_messages() %}
                {% if messages %}

                {% for message in messages %}
                <div class="alert alert-success alert-dismissable" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="close">
                        <span aria-hidden="true">x</span>
                    </button>
                {{message}}
                </div>
                {% endfor %}

                {% endif %}
                {% endwith %} </div>
</div>

<div class="container" style="background-color:#f5f5f5;">
<form method="POST" action=/create>
  {{ form.hidden_tag() }}

    <div class="form-floating mb-3">
            {{form.username(class="form-control", placeholder="UserName", autocomplete="off")}}
            {{ form.username.label()}}
            <ul class="errors">
              {% for error in form.username.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
          </div>

    <div class="form-floating mb-3">
          {{form.password(class="form-control", placeholder="Password")}}
          {{ form.password.label()}}
          <ul class="errors">
            {% for error in form.password.errors %}
                  <li>{{error}}</li>
            {% endfor %}
          </ul>
        </div>

    <div class="form-floating mb-3">
          {{form.hrmsid(class="form-control", placeholder="Password")}}
        {{ form.hrmsid.label()}}
          <ul class="errors">
            {% for error in form.hrmsid.errors %}
                  <li>{{error}}</li>
            {% endfor %}
          </ul>
        </div>

        {% if current_user.userlevel=="5" %}
        <div class="form-floating mb-3">
          {{form.department(class="form-select", placeholder='Department')}}
            {{ form.department.label()}}
            <ul class="errors">
            {% for error in form.department.errors %}
                  <li>{{error}}</li>
            {% endfor %}
          </ul>
        </div>
    {% endif %}

        <div class="form-floating mb-3">
          {{form.name(class="form-control", placeholder='agent_name')}}
        {{ form.name.label()}}
          <ul class="errors">
            {% for error in form.name.errors %}
                  <li>{{error}}</li>
            {% endfor %}
          </ul>
        </div>

        <div class="form-floating mb-3">
          {{form.bankcode(class="form-control", placeholder='bankcode')}}
        {{ form.bankcode.label()}}
          <ul class="errors">
            {% for error in form.bankcode.errors %}
                  <li>{{error}}</li>
            {% endfor %}
          </ul>
        </div>

        <div class="form-floating mb-3">
          {{form.tlhrmsid(class="form-control", placeholder='TL hrmsid')}}
            {{ form.tlhrmsid.label()}}
          <ul class="errors">
            {% for error in form.tlhrmsid.errors %}
                  <li>{{error}}</li>
            {% endfor %}
          </ul>
        </div>

        <div class="form-floating mb-3">
          {{form.tlname(class="form-control", placeholder='TL hrmsid')}}
            {{ form.tlname.label()}}
          <ul class="errors">
            {% for error in form.tlhrmsid.errors %}
                  <li>{{error}}</li>
            {% endfor %}
          </ul>
        </div>

    {% if current_user.userlevel=="5" %}
    <div class="form-floating mb-3">
          {{form.crdntrhrmsid(class="form-control", placeholder='Coordinator hrmsid')}}
        {{ form.crdntrhrmsid.label()}}
          <ul class="errors">
            {% for error in form.crdntrhrmsid.errors %}
                  <li>{{error}}</li>
            {% endfor %}
          </ul>
        </div>
    {% endif %}

    <div class="form-floating mb-3">
            {{form.mngrhrmsid(class="form-control", placeholder='Manager hrmsid')}}
            {{ form.mngrhrmsid.label()}}
            <ul class="errors">
            {% for error in form.mngrhrmsid.errors %}
                  <li>{{error}}</li>
            {% endfor %}
          </ul>
        </div>


         <div class="form-floating mb-3">
          {{form.manager(class="form-control", placeholder='Manager name')}}
             {{ form.manager.label()}}
          <ul class="errors">
            {% for error in form.manager.errors %}
                  <li>{{error}}</li>
            {% endfor %}
          </ul>
        </div>

    <div class="form-floating mb-3">
        {{form.location(class="form-select", placeholder='Location')}}
        {{ form.location.label()}}
            <ul class="errors">
            {% for error in form.location.errors %}
                  <li>{{error}}</li>
            {% endfor %}
          </ul>
        </div>


        {% if current_user.userlevel=="5" %}
          <div class="form-floating mb-3">
          {{form.usergroup(class="form-control", placeholder='User-Group')}}
              {{ form.usergroup.label()}}
            <ul class="errors">
            {% for error in form.usergroup.errors %}
                  <li>{{error}}</li>
            {% endfor %}
          </ul>
        </div>
    {% endif %}





    <div class="container text-center" style="padding-bottom:10px">
    {{form.CreateUser(class="btn btn-primary btn-lg btn-block")}}
    </div>

</form></div>

{% endblock %}